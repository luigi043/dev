@model InsureX.Application.DTOs.AssetDto

<div class="container-fluid p-0">
    <!-- Asset Header -->
    <div class="bg-light p-3 rounded mb-3">
        <div class="d-flex justify-content-between align-items-center">
            <h4 class="mb-0">
                <i class="fas fa-box text-primary me-2"></i>
                @Model.AssetTag
            </h4>
            <span class="badge @(Model.Status == "Active" ? "bg-success" : "bg-secondary") px-3 py-2">
                @Model.Status
            </span>
        </div>
        <p class="text-muted mt-2 mb-0">
            <i class="fas fa-calendar me-2"></i>Created: @Model.CreatedAt.ToString("MMM dd, yyyy")
        </p>
    </div>

    <!-- Asset Details Grid -->
    <div class="row g-3">
        <div class="col-md-6">
            <div class="card border-0 bg-light">
                <div class="card-body">
                    <h6 class="card-title text-primary">
                        <i class="fas fa-info-circle me-2"></i>Basic Information
                    </h6>
                    <table class="table table-sm table-borderless">
                        <tr>
                            <td class="fw-bold" style="width: 40%">Make:</td>
                            <td>@Model.Make</td>
                        </tr>
                        <tr>
                            <td class="fw-bold">Model:</td>
                            <td>@Model.Model</td>
                        </tr>
                        <tr>
                            <td class="fw-bold">Year:</td>
                            <td>@Model.Year</td>
                        </tr>
                        <tr>
                            <td class="fw-bold">Asset Type:</td>
                            <td>@(Model.AssetType ?? "N/A")</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card border-0 bg-light">
                <div class="card-body">
                    <h6 class="card-title text-primary">
                        <i class="fas fa-fingerprint me-2"></i>Identification
                    </h6>
                    <table class="table table-sm table-borderless">
                        <tr>
                            <td class="fw-bold" style="width: 40%">Serial Number:</td>
                            <td>@(Model.SerialNumber ?? "N/A")</td>
                        </tr>
                        <tr>
                            <td class="fw-bold">VIN:</td>
                            <td>
                                @(Model.VIN ?? "N/A")
                                @if (!string.IsNullOrEmpty(Model.VIN))
                                {
                                    <button class="btn btn-sm btn-link p-0 ms-2" onclick="copyToClipboard('@Model.VIN')">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                }
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card border-0 bg-light">
                <div class="card-body">
                    <h6 class="card-title text-primary">
                        <i class="fas fa-dollar-sign me-2"></i>Financial
                    </h6>
                    <table class="table table-sm table-borderless">
                        <tr>
                            <td class="fw-bold" style="width: 40%">Insured Value:</td>
                            <td class="fw-bold text-success">@Model.InsuredValue?.ToString("C2") ?? "Not Insured"</td>
                        </tr>
                        <tr>
                            <td class="fw-bold">Purchase Date:</td>
                            <td>@Model.PurchaseDate?.ToString("MMM dd, yyyy") ?? "N/A"</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card border-0 bg-light">
                <div class="card-body">
                    <h6 class="card-title text-primary">
                        <i class="fas fa-shield-alt me-2"></i>Compliance
                    </h6>
                    <div class="d-flex align-items-center mb-2">
                        <span class="badge @(Model.ComplianceStatus switch {
                            "Compliant" => "bg-success",
                            "NonCompliant" => "bg-danger",
                            "Pending" => "bg-warning text-dark",
                            _ => "bg-secondary"
                        }) px-3 py-2 me-2">
                            @Model.ComplianceStatus
                        </span>
                        @if (Model.ComplianceScore.HasValue)
                        {
                            <span class="badge bg-info">Score: @Model.ComplianceScore%</span>
                        }
                    </div>
                    @if (Model.LastInspectionDate.HasValue)
                    {
                        <p class="mb-0 small text-muted">
                            Last Inspection: @Model.LastInspectionDate.Value.ToString("MMM dd, yyyy")
                        </p>
                    }
                </div>
            </div>
        </div>

        @if (!string.IsNullOrEmpty(Model.Notes))
        {
            <div class="col-12">
                <div class="card border-0 bg-light">
                    <div class="card-body">
                        <h6 class="card-title text-primary">
                            <i class="fas fa-sticky-note me-2"></i>Notes
                        </h6>
                        <p class="mb-0">@Model.Notes</p>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

<script>
    function copyToClipboard(text) {
        navigator.clipboard.writeText(text).then(function() {
            if (typeof toastr !== 'undefined') {
                toastr.success('Copied to clipboard!');
            } else {
                alert('Copied: ' + text);
            }
        });
    }
</script>